 Architecture en 3 Parties Simples
 
1. LA CONFIGURATION (Le "Cahier des Charges")
text
ParamÃ©trageFrais = Recette de cuisine pour chaque type de frais
Type de frais : Ouverture, SMS, Retrait, Tenue de compte, etc.

Quand appliquer : Ã€ l'ouverture, mensuellement, Ã  chaque retrait

Combien prÃ©lever : Montant fixe ou calculÃ©

OÃ¹ envier l'argent : Quel compte comptable crÃ©diter

Exemple concret pour un Compte Courant Particulier :

text
Frais d'ouverture : 3500 FCFA â†’ Compte 72000000
Frais mensuel : 2000 FCFA â†’ Compte 72000000  
Frais SMS : 200 FCFA â†’ Compte 72000004
2. L'APPLICATION (Le "Robot Caissier")
text
FraisApplique = Ticket de caisse pour chaque prÃ©lÃ¨vement
Le systÃ¨me agit comme un caissier automatique qui :

VÃ©rifie la date : Est-ce le 31 du mois ? â†’ Oui, on applique les frais mensuels

VÃ©rifie le solde : Le client a assez d'argent ?

âœ… Oui â†’ DÃ©bite immÃ©diatement

âŒ Non â†’ Met en attente (compte 47120000)

Ã‰crit dans la comptabilitÃ© : CrÃ©e les Ã©critures comptables automatiquement

3. LA SURVEILLANCE (Le "ContrÃ´leur")
text
CalculFraisService = Superviseur qui vÃ©rifie tout
Tous les jours Ã  minuit, un "robot" vÃ©rifie :

ğŸ“… Est-ce la fin du mois ? â†’ Applique les frais mensuels

ğŸ’° Y a-t-il des frais en attente ? â†’ Tente de les prÃ©lever

ğŸ“± Doit-on prÃ©lever les SMS ? â†’ Oui, mÃªme sans mouvement

ğŸ”§ Comment Ã‡a Marche au Quotidien
SCÃ‰NARIO 1 : Ouverture d'un Compte Courant Particulier
text
1. Client ouvre compte â†’ SystÃ¨me voit "Type Compte 01"
2. Cherche les frais d'ouverture pour ce type â†’ Trouve 3500 FCFA
3. CrÃ©e un "ticket" (FraisApplique) de 3500 FCFA
4. Si solde â‰¥ 3500 â†’ DÃ©bite immÃ©diatement
5. Sinon â†’ Met en attente dans compte 47120000
SCÃ‰NARIO 2 : Fin du Mois (31 Janvier Ã  23h59)
text
1. SystÃ¨me vÃ©rifie tous les comptes actifs
2. Pour chaque compte, applique :
   - Frais de tenue de compte (2000 FCFA)
   - Frais SMS (200 FCFA)
3. Pour comptes collecte journaliÃ¨re :
   - Calcule total des versements du mois
   - Si â‰¥ 50.000 â†’ 1000 FCFA
   - Si < 50.000 â†’ 300 FCFA
SCÃ‰NARIO 3 : Client Fait un Retrait
text
1. Client veut retirer 10.000 FCFA
2. SystÃ¨me vÃ©rifie : Frais de retrait = 200 FCFA
3. Total nÃ©cessaire : 10.200 FCFA
4. Si solde â‰¥ 10.200 â†’ Autorise retrait + prÃ©lÃ¨ve 200 FCFA
5. Sinon â†’ Bloque l'opÃ©ration "Solde insuffisant"
SCÃ‰NARIO 4 : Compte MATA BOOST BLOQUE
text
Ã€ l'ouverture :
1. PrÃ©lÃ¨ve 500 FCFA (frais carnet) â†’ Compte 72100000

Ã€ l'Ã©chÃ©ance (retrait normal) :
1. PrÃ©lÃ¨ve 1500 FCFA (frais dÃ©blocage)

Retrait anticipÃ© (avec autorisation) :
1. PrÃ©lÃ¨ve 1500 FCFA + 3% du solde (pÃ©nalitÃ©)
ğŸª Les "Personnages" du SystÃ¨me
ğŸ“‹ Le Plan Comptable
C'est le dictionnaire des comptes. Chaque numÃ©ro a une signification :

72000004 = "Commission SMS"

47120000 = "Produits Ã  recevoir" (compte d'attente)

37122000 = "Compte Courant Particulier"

âš™ï¸ Le ParamÃ©trage
C'est le rÃ¨glement intÃ©rieur. Il dit :

"Les comptes courants particuliers payent 2000 FCFA par mois"

"Les frais SMS se prÃ©lÃ¨vent mÃªme sans mouvement"

"Les retraits coÃ»tent 200 FCFA"

ğŸ§¾ Le Frais AppliquÃ©
C'est le reÃ§u de caisse. Il contient :

Date du prÃ©lÃ¨vement

Montant

Compte dÃ©bitÃ©/crÃ©ditÃ©

Statut (prÃ©levÃ©/en attente)

ğŸ¤– Le Service de Calcul
C'est le caissier automatique. Il :

VÃ©rifie les dates

Calcule les montants

Applique les rÃ¨gles

GÃ¨re les exceptions

ğŸ“Š Exemple Concret : Mme Diallo
Mme Diallo a un Compte Courant Particulier :

text
1er fÃ©vrier : Ouvre compte â†’ -3500 FCFA (frais ouverture)
Tous les mois le 28/29/30/31 : 
   - Frais tenue compte : -2000 FCFA
   - Frais SMS : -200 FCFA
Ã€ chaque retrait : -200 FCFA
Si elle a un Compte Collecte JournaliÃ¨re :

text
Janvier : Collecte totale = 45.000 FCFA
31 janvier : Frais = 300 FCFA (car < 50.000)

FÃ©vrier : Collecte totale = 75.000 FCFA  
28 fÃ©vrier : Frais = 1000 FCFA (car â‰¥ 50.000)
ğŸ›¡ï¸ Les SÃ©curitÃ©s
1. VÃ©rification du Solde
php
if ($solde >= $frais) {
    // DÃ©bite immÃ©diatement
} else {
    // Met en compte d'attente
}
2. Blocage des OpÃ©rations
php
if ($solde < ($retrait + $frais_retrait)) {
    return "Solde insuffisant pour couvrir frais";
}
3. Validation Humaine
Certaines opÃ©rations (dÃ©blocage anticipÃ©) nÃ©cessitent l'approbation du DG ou de l'assistant comptable.

ğŸ”„ Le Cycle Mensuel en Image
text
DÃ‰BUT DU MOIS
    â†“
OPÃ‰RATIONS CLIENTS
    â†“
FIN DU MOIS (31/30/28/29)
    â†“
CALCUL DES FRAIS
    â”œâ”€â”€ Tenue de compte
    â”œâ”€â”€ SMS
    â””â”€â”€ Collecte (si applicable)
    â†“
APPLICATION
    â”œâ”€â”€ Si solde suffisant â†’ DÃ©bit immÃ©diat
    â””â”€â”€ Si solde insuffisant â†’ Compte d'attente
    â†“
COMPTABILISATION
    â†“
DÃ‰BUT MOIS SUIVANT